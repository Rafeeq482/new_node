{"ast":null,"code":"import _objectSpread from\"/var/www/html/new_node/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Register Component\n// User registration form with email verification\nimport React,{useState}from'react';import{authService}from'../services/authService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=_ref=>{let{switchToLogin}=_ref;const[formData,setFormData]=useState({username:'',email:'',password:'',confirmPassword:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[showVerification,setShowVerification]=useState(false);const[verificationCode,setVerificationCode]=useState('');// Handle input changes\nconst handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};// Handle registration form submission\nconst handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');setSuccess('');// Check if passwords match\nif(formData.password!==formData.confirmPassword){setError('Passwords do not match');setLoading(false);return;}const result=await authService.signUp(formData.username,formData.password,formData.email);if(result.success){setSuccess('Registration successful! Check your email for verification code.');setShowVerification(true);}else{setError(result.error);}setLoading(false);};// Handle verification code submission\nconst handleVerification=async e=>{e.preventDefault();setLoading(true);setError('');const result=await authService.confirmSignUp(formData.username,verificationCode);if(result.success){setSuccess('Email verified successfully! You can now login.');setTimeout(()=>switchToLogin(),2000);}else{setError(result.error);}setLoading(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:showVerification?'Verify Email':'Register'}),!showVerification?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:formData.username,onChange:handleChange,required:true,placeholder:\"Choose a username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true,placeholder:\"Enter your email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true,placeholder:\"Create a password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,required:true,placeholder:\"Confirm your password\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:success}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"auth-button\",children:loading?'Registering...':'Register'})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleVerification,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Verification Code:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:verificationCode,onChange:e=>setVerificationCode(e.target.value),required:true,placeholder:\"Enter verification code from email\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:success}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"auth-button\",children:loading?'Verifying...':'Verify Email'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-switch\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account?\",/*#__PURE__*/_jsx(\"button\",{onClick:switchToLogin,className:\"link-button\",children:\"Login here\"})]})})]})});};export default Register;","map":{"version":3,"names":["React","useState","authService","jsx","_jsx","jsxs","_jsxs","Register","_ref","switchToLogin","formData","setFormData","username","email","password","confirmPassword","loading","setLoading","error","setError","success","setSuccess","showVerification","setShowVerification","verificationCode","setVerificationCode","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","result","signUp","handleVerification","confirmSignUp","setTimeout","className","children","onSubmit","type","onChange","required","placeholder","disabled","onClick"],"sources":["/var/www/html/new_node/src/components/Register.js"],"sourcesContent":["// Register Component\n// User registration form with email verification\n\nimport React, { useState } from 'react';\nimport { authService } from '../services/authService';\n\nconst Register = ({ switchToLogin }) => {\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [showVerification, setShowVerification] = useState(false);\n  const [verificationCode, setVerificationCode] = useState('');\n\n  // Handle input changes\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Handle registration form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    setSuccess('');\n\n    // Check if passwords match\n    if (formData.password !== formData.confirmPassword) {\n      setError('Passwords do not match');\n      setLoading(false);\n      return;\n    }\n\n    const result = await authService.signUp(\n      formData.username,\n      formData.password,\n      formData.email\n    );\n\n    if (result.success) {\n      setSuccess('Registration successful! Check your email for verification code.');\n      setShowVerification(true);\n    } else {\n      setError(result.error);\n    }\n    setLoading(false);\n  };\n\n  // Handle verification code submission\n  const handleVerification = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    const result = await authService.confirmSignUp(formData.username, verificationCode);\n\n    if (result.success) {\n      setSuccess('Email verified successfully! You can now login.');\n      setTimeout(() => switchToLogin(), 2000);\n    } else {\n      setError(result.error);\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <div className=\"auth-card\">\n        <h2>{showVerification ? 'Verify Email' : 'Register'}</h2>\n        \n        {!showVerification ? (\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label>Username:</label>\n              <input\n                type=\"text\"\n                name=\"username\"\n                value={formData.username}\n                onChange={handleChange}\n                required\n                placeholder=\"Choose a username\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Email:</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                required\n                placeholder=\"Enter your email address\"\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label>Password:</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={formData.password}\n                onChange={handleChange}\n                required\n                placeholder=\"Create a password\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Confirm Password:</label>\n              <input\n                type=\"password\"\n                name=\"confirmPassword\"\n                value={formData.confirmPassword}\n                onChange={handleChange}\n                required\n                placeholder=\"Confirm your password\"\n              />\n            </div>\n\n            {error && <div className=\"error-message\">{error}</div>}\n            {success && <div className=\"success-message\">{success}</div>}\n\n            <button type=\"submit\" disabled={loading} className=\"auth-button\">\n              {loading ? 'Registering...' : 'Register'}\n            </button>\n          </form>\n        ) : (\n          <form onSubmit={handleVerification}>\n            <div className=\"form-group\">\n              <label>Verification Code:</label>\n              <input\n                type=\"text\"\n                value={verificationCode}\n                onChange={(e) => setVerificationCode(e.target.value)}\n                required\n                placeholder=\"Enter verification code from email\"\n              />\n            </div>\n\n            {error && <div className=\"error-message\">{error}</div>}\n            {success && <div className=\"success-message\">{success}</div>}\n\n            <button type=\"submit\" disabled={loading} className=\"auth-button\">\n              {loading ? 'Verifying...' : 'Verify Email'}\n            </button>\n          </form>\n        )}\n\n        <div className=\"auth-switch\">\n          <p>Already have an account? \n            <button onClick={switchToLogin} className=\"link-button\">\n              Login here\n            </button>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}